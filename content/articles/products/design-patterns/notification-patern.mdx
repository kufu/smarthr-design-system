---
title: '操作のフィードバック'
description: 'ユーザーへ伝えたいフィードバックやメッセージをどう表すかを定義しています。'
order: 11
---

import { Button, ActionDialog, NotificationBar } from 'smarthr-ui'

ユーザーへ伝えたいフィードバックやメッセージの表し方を定義しています。


## 基本的な考え方

操作の種類や操作後の状態などに基づいて、操作のフィードバックを定義します。

- 入力された値へフィードバックしたいとき
  - [【WIP】入力バリデーション](#h2-1)
- 操作後に画面が切り替わるとき
  - [アクションフィードバック](#h2-2)
- ダイアログから操作し、画面に戻るとき
  - [アクションフィードバック](#h2-3)
- 特別で重要な情報やお知らせを出したいとき
  - [特別な情報やお知らせ](#h2-4)


## 種類

### 【WIP】入力バリデーション

入力された値へフィードバックしたいときに使うパターンです。主にフォームバリデーションなどに使います。

{WIP}

### アクションフィードバック

主に「操作後に画面全体が切り替わるとき」や「ダイアログで操作し、元の画面に戻るとき」などに使います。   
[NotificationBar](/products/components/notification-bar)コンポーネントを使ってメッセージを表示します。

- ユーザーにメッセージが表示されたことを強調するために、[NotificationBar](/products/components/notification-bar)の`animate={true}`にします。
- ユーザーへのアテンションを高めたい場合は、[NotificationBar](/products/components/notification-bar)の`bold={true}`にすることを検討します。
- [NotificationBar](/products/components/notification-bar)は、ユーザーの明示的な操作で非表示にします。時間の経過で閉じることは推奨されません(※1)。

#### 使い方

##### 操作通知の典型例

コレクションにオブジェクトを追加する際に、アクションフィードバックを表示する典型的な例です。  
この例ではアクションが成功したため、[NotificationBar](/products/components/notification-bar)の`type="success"`にしていますが、エラーの場合は`error`を指定してメッセージを返します。

![動画:コレクションにオブジェクトを、ダイアログから登録する際にNotificationBarを使い成功した旨のメッセージを表示している](./images/notification-patern/notification-patern-notificationbar.gif)

##### スクロール追従するNotificationBar

また、操作と [NotificationBar](/products/components/notification-bar)によるメッセージの距離が離れていて気づかれにくい場合は、`positon: sticky`でスクロールに追従させることを推奨します。
以下の動画では操作後に縦スクロールしても[NotificationBar](/products/components/notification-bar)が画面上部に表示されるようになっています。

![動画:NotificationBarを`positon: sticky`で追従表示している](./images/notification-patern/notification-patern-notificationbar-sticky.gif)

### 特別な情報やお知らせ

主に「特別で重要な情報やお知らせを出したいとき」に使います。  
特別な情報やお知らせには、[NotificationBar](/products/components/notification-bar)、[InformationPanel](/products/components/information-panel)、[CompactInformationPanel](/products/components/information-panel)コンポーネントを使います。

- 基本的に、[NotificationBar](/products/components/notification-bar)は`bold={false}`で使うことを推奨します。破壊的な変更や必ず見てほしい重要情報など必要に応じて強調してください。
- 特別な情報やお知らせで設置するコンポーネントと表示位置は、情報構造に合わせて設計します。代表的な使い方は次項の使い方を参照してください。

#### 使い方

##### アプリケーション全体にメッセージを表示する例

[NotificationBar](/products/components/notification-bar)を使ってアプリケーション全体にメッセージを表示している例です。  
アプリケーション内で画面を切り替えてもメッセージが表示され続けることを表すため、[Header](/products/components/header)よりも上に配置します。

![NotificationBarを使ってアプリケーション全体へメッセージを表示している例](./images/notification-patern/notification-patern-static1.png)

##### ページにメッセージを表示する例

[NotificationBar](/products/components/notification-bar)を使ってページ内にメッセージを表示している例です。  
「ダッシュボード」の配下のみに関わる情報であることを表すために、[AppNavi](/products/components/app-navi)の下に[NotificationBar](/products/components/notification-bar)を配置します。

![NotificationBarを使ってページ内にメッセージを表示している例](./images/notification-patern/notification-patern-static2.png)

##### 特定エリアにメッセージを表示する例

[InformationPanel](/products/components/information-panel)を使ってメッセージを表示している例です。  
この例ではダッシュボードのコレクションにのみ関係する情報を表示しています。

[InformationPanel](/products/components/information-panel)は表示領域を大きく取るコンポーネントなので、表示する情報が少ない場合は[CompactInformationPanel](/products/components/information-panel)を使うことを推奨します。

![InformationPanelを使ってコレクションにメッセージを表示している例](./images/notification-patern/notification-patern-static3.png)


## 参考文献

※1. [Web Content Accessibility Guidelines - 2.2.1 タイミング調整可能を理解する](https://waic.jp/docs/UNDERSTANDING-WCAG20/time-limits-required-behaviors.html)
