---
title: 'ファイルのダウンロード・アップロードボタンの実装ガイドライン'
description: ' '
order: 8
---

## なぜダウンロードボタンとアップロードボタンが同じ画面にある場合に注意が必要なのか

SmartHRでは、CSVファイルを使ってデータの一括登録をする機能があります。
このとき、CSVファイルをダウンロードするためのボタンと、CSVファイルをアップロードするためのボタンが同じ画面にあります。

これらは、SmartHR UIを使うと同じようなボタンに見えますが、ダウンロードボタンは `<a>` で、アップロードボタンは `<input type="file">` です。
そのため、アップロードボタンにはラベルが必要になります。

また、手順を説明するテキストはセクション見出しのスタイルになりますが、見出し要素は `<label>` 要素に設定することは非推奨です。

これらの観点から注意すべきポイントとアクセシブルな実装方法を定義し、ガイドラインを作りました。

![ファイルダウンロードボタンとアップロードボタンが同じ画面にあるダイアログのサンプル](./images/csv-dialog-sample.png)

## ダウンロードボタンとアップロードボタンが同じ画面にある場合の実装ガイドライン

### 1. 手順ごとに `<ol>` `<li>` 要素で囲む

手順を説明するテキストは、順番が前後すると意味が通用しなくなるため、順番を持つ `<ol>` `<li>` 要素で囲んでください。
このとき、 `<ol>` 要素の配下で `Stack` などのレイアウトコンポーネントを使うと `div` 要素が入ってしまうため注意が必要です。

```jsx
<ol>
  <li>
    ファイルをダウンロードするためのコンテンツ
  </li>
  <li>
    ファイルをアップロードするためのコンテンツ
  </li>
</ol>
```

### 2. 手順を説明するテキストは見出し要素にする

手順を説明するテキストは、見出し要素にします。

### :warning: smarthr/a11y-prohibit-sectioning-content-in-form でエラーになる点について

現在、form内に見出し要素を設置すると `smarthr/a11y-prohibit-sectioning-content-in-form` でエラーになります。

このルールは、フォーム内部に `<legend>` 要素と見出し要素が混在しているとスクリーンリーダーのナビゲーションがしにくいという意見から設定されました。

今回はform内に `<legend>` 要素がなく、見出し要素のみで構成されています。そこで主要なスクリーンリーダーで今回のフォームでナビゲーションをチェックし問題なくできると判断しました。

しかしながら、現状だとeslintルールをdisableしないとエラーが出てしまうため、アクセシビリティ本部で今後改善する予定です。


### 3. アップロードボタン( InputFile )にはラベルを用意する

InputFile には可視ラベルが必要です。可視ラベルを設定するには、SmartHR UIで提供されている [FormControl](/products/components/form-control/) コンポーネントを使ってください。

このとき、見出し要素は `<label>` 要素に設定することは非推奨です。そのため、以下のようにラベル用のテキストを説明部分に設置することで画面のバランスを保ちつつ適切なラベルを設定できます。

![ラベル用のテキストを説明部分に設置する例](./images/csv-dialog-with-label-sample.png)

また、ラベルがアップロードボタンのラベルとして適しているかという点に注意してください。ラベルには入力する内容や操作がわかるような内容を設定してください。
ラベルとして適切かどうかに関しては、 [入力する内容や、操作がラベルとして表示されている](/accessibility/check-list/label/) を参考にしてください。



