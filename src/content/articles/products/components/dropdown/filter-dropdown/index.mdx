---
title: 'FilterDropdown'
description: '一覧の絞り込みを行なうためのコンポーネントで、パネル内に自由に入力要素を配置できるほか、絞り込みを適用したり解除したりするための機能も有しています。'
---
import ComponentPropsTable from '@/components/article/ComponentPropsTable.astro'
import ComponentStory from '@/components/article/ComponentStory.astro'
import { ResponseMessage, BaseColumn } from 'smarthr-ui'

FilterDropdownは一覧の絞り込みを行なうためのコンポーネントで、パネル内に自由に入力要素を配置できるほか、絞り込みを適用したり解除したりするための機能も有しています。

<ComponentStory name="FilterDropdown" />

## 使用上の注意

### 絞り込みのUIが複雑で、エリアを十分に確保できない場合はActionDialogを使用する
[よくあるテーブル](/products/design-patterns/smarthr-table/)やその他一覧画面で絞り込みを行なうとき、パネル内に[Checkbox](/products/components/check-box/)や[RadioButton](/products/components/radio-button/)、[Input[type=date]](/products/components/Input/)などを配置することでユースケースを達成できる場合はFilterDropdownを使用してください。

絞り込みのUIが複雑で、ドロップダウンパネルではエリアを十分に確保できない場合、[ActionDialog](/products/components/dialog/action-dialog/)の使用を検討してください。その際、ActionDialogの呼び出しはFilterDropdownではなく「フィルター」ボタンを使用します。

```tsx editable
<Button prefix={<FaFilterIcon />}>フィルター</Button>
```

## レイアウト

### [WIP] モバイル

<BaseColumn className="shr-mt-2">
  <ResponseMessage>モバイルで自動的に切り替わるようにコンポーネントを改修予定です。</ResponseMessage>
</BaseColumn>

#### ドロップダウンパネル

モバイル端末は画面が小さく誤操作しやすいため、ドロップダウンパネルは[ActionDialog](/products/components/dialog/action-dialog/)を用いてモーダルに表示します。

```tsx editable noIframe withStyled
const FilterIcon = ({ filtered }) => (
  <span className={`shr-relative shr-leading-none ${filtered ? 'shr-text-main' : ''}`}>
    <FaFilterIcon />
    {filtered && (
      <FaCircleCheckIcon
        aria-label="適用中"
        className="shr-absolute shr-bottom-[2px] shr-right-[-4px] shr-h-[0.5em] shr-w-[0.5em]"
      />
    )}
  </span>
)

const FilterDropdownForMobile = () => {
  const [filtered, setFiltered] = React.useState(false)
  return (
    <>
      <RemoteDialogTrigger targetId="filter-dropdown-dialog">
        <Button suffix={<FilterIcon filtered={filtered} />}>絞り込み</Button>
      </RemoteDialogTrigger>
      <RemoteTriggerFormDialog
        id="filter-dropdown-dialog"
        title="絞り込み"
        actionText="適用"
        size="S"
        onSubmit={(close, e) => {
          e.preventDefault()
          const formData = new FormData(e.currentTarget)
          setFiltered(formData.get('filtered') === 'true')
          close()
        }}
      >
      <Fieldset legend="絞り込み条件">
        <Stack gap={0.5}>
          <RadioButtonPanel defaultChecked={!filtered} name="filtered" value="false" label="無効" />
          <RadioButtonPanel defaultChecked={filtered} name="filtered" value="true" label="有効" />
        </Stack>
      </Fieldset>
      </RemoteTriggerFormDialog>
    </>
  )
}
render(<FilterDropdownForMobile />)
```

## Props

<ComponentPropsTable name="FilterDropdown" />

