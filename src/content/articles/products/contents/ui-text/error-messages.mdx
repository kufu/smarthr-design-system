---
title: 'エラーメッセージ'
description: 'SmartHRアプリケーション内で表示されるエラーメッセージの作成に関するガイドラインです。'
order: 1
---

アプリケーション内に表示するエラーメッセージの作成に関するガイドラインです。

エラーメッセージのライティングは、[基本的な考え方](/products/contents/writing-style/)、[用字用語](/products/contents/idiomatic-usage/)に準拠します。  
そのほか、エラーメッセージ特有の気をつけるべきポイントを記載しています。

{<span id="scope-of-application" />}
## 適用範囲
アプリケーションを操作してエラーが発生したときに表示するメッセージすべてです。

ここでは、以下の場合について説明します。  

* [バックグラウンド処理画面](https://smarthr.design/products/design-patterns/background-jobs-results/)  
* [NotificationBar](/products/components/notification-bar/)

{<span id="basic-idea-of-error-messages" />}
## エラーメッセージの基本的な考え方
エラーメッセージを表示する目的は、**ユーザーがメッセージを見て問題を解決でき、次の操作に進める**状態にすることです。

この状態を実現できないエラーメッセージだった場合、ユーザーの戸惑いや不安につながります。  
ユーザーが問題を解決できる対処方法を明示した内容にすることを考えます。

{<span id="basic-elements-of-error-messages" />}
## エラーメッセージの基本的な要素
どのエラーメッセージであっても、含める情報の要素は**事象・原因・対処**です。

ただし、画面のスペースやUIによっては、すべての要素を表示できないことがあるため、コンテキストにあわせて、都度検討が必要になります。

### 事象
* 「ユーザーにとって何が起きたか」を説明した内容。
* プロダクトを操作しているユーザー目線の内容になっていることが大切です。

### 原因
* 「なぜ、エラーが発生したか」を説明した内容。
* ユーザーがエラーを解消しやすくなるように、どこに問題があったかを簡潔明瞭に具体的に伝える内容になっていることが大切です。

### 対処
* 「エラーをどう解消すればよいか」を説明した内容。
* ユーザーが具体的に何をすればよいのかを理解でき、次の操作に進める内容になっていることが大切です。

### 基本的な要素をすべて表示できない場合
スペースが足りないときなど、エラーメッセージのすべての要素を表示できない場合は、**原因>対処>事象**の優先順で表示しましょう。

ユーザーの目的は「無事に操作を完了させること」であり、そのためにユーザーが知りたいことは「どうしたらエラーを解消できるか」です。  
そのため、エラーを解消するための原因とその対処の表示を優先します。

{<span id="background-process" />}
## バックグラウンド処理のライティングパターン
* バックグラウンド処理のエラーメッセージに含める要素は、**事象・原因・対処**です。
* フラッシュメッセージと異なり、メッセージを表示するスペースがあるため、すべての要素を記載しましょう。
* 結果概要に**事象**、エラー詳細に**原因**と**対処**を記載します。

### OK例
結果概要  
`CSVファイルの取り込みに失敗しました。`

エラー詳細  
`CSVファイルの文字コードの形式が正しくありません。UTF-8形式で保存したCSVファイルを再度取り込んでください。`

* 結果概要で、ユーザーがやろうとしていた操作の結果を端的に伝えます。ここでは、ユーザーがやろうとしていた操作は「CSVファイルの取り込み」です。
* エラー詳細で、操作が失敗した理由、その解決方法を具体的に伝えます。

### NG例
結果概要  
`CSVファイルの文字コードが不正な形式です。`

エラー詳細  
`CSVファイルの文字コードが不正な形式です。`

* 結果概要とエラー詳細に同じ内容が記載されており、詳細を確認しようとしたユーザーが詳しい情報を得られない内容になっています。
* 結果概要に操作が失敗した**原因**が記載され、ユーザーの操作「CSVファイルの取り込み」の結果が記載されていません。
* 具体的な**対処**が記載されておらず、エラーをどう解消すればいいのかがわからない内容になっています。

### ライティングパターン
2つのケースに分けて、2種類のライティングパターンを用意しています。

1. CSVを取り込むことで、目的の操作をする場合

    例：CSVを取り込んで、従業員を一括招待する

2. ユーザーが実行する操作と目的の操作が一致している場合

    例：PDFを一括でアップロードする

#### 1. CSVを取り込むことで、目的の操作をする場合
<iframe className="airtable-embed" src="https://airtable.com/embed/shrnuHRy5KGrszh4a?backgroundColor=teal&viewControls=on" frameBorder="0" onmousewheel="" width="100%" height="533" style="background: transparent; border: 1px solid #ccc;"></iframe>

#### 2. 目的となる操作とユーザーが実行する操作が一致している場合
<iframe className="airtable-embed" src="https://airtable.com/embed/shrh2JnB7gShnieyO?backgroundColor=teal&viewControls=on" frameBorder="0" onmousewheel="" width="100%" height="533" style="background: transparent; border: 1px solid #ccc;"></iframe>

## NotificationBarのライティングパターン
* [NotificationBar](/products/components/notification-bar/)で伝える要素は、**原因**または**原因・対処**です。
* NotificationBarはメッセージの表示スペースが少ないため、ユーザーがひと目で把握できる情報量にする必要があります。

### OK例
`対象のカスタムマスター項目は、すでに削除済みです。`

* ユーザーの操作「カスタムマスター項目の削除」ができなかった**原因**を端的に、なるべく一文で伝えます。
* 人がひと目で認識できる情報のかたまり（チャンク）を意識して、句読点を使いましょう。

### NG例
`対象のカスタムマスター項目の削除に失敗しました。対象のカスタムマスター項目は、存在しません。対象のカスタムマスター項目を確認してください。`

* **事象・原因・対処**のすべてに言及し、親切そうではありますが、情報量が多く、1行程度の表示が推奨されるNotificationBarには適しません。
* **原因**の「対象のカスタムマスター項目は、存在しません。」は事実ではありますが、「なぜ存在しないのか（＝すでに削除されているから）」が説明されていません。

### ライティングパターン

| 概要 | ライティングパターン | 例 |
| ---- | ---- | ---- | ---- |
| エラー原因を伝えられない失敗 | `{{オブジェクト名}}の{{操作を表す名詞}}に失敗しました。` |   |
| バックグラウンド処理の受け付けに失敗した場合 | `{{バックグラウンド処理名}}の受け付けに失敗しました。` |   |
| 同じ条件でやり直してみるしかない場合（500エラー系など） | `{{オブジェクト名}}の{{操作を表す名詞}}に失敗しました。時間をおいて、やり直してください。` |   |
| 仕様として、不可能であることを伝える場合 | `{{状態を示す修飾語・節・句}}{{オブジェクト名}}は、{{操作を表す名詞}}できません。` | 差し戻し済みの依頼は、確認・合意できません。<br />署名済みの書類は、差し戻しできません。 |
| 制限値エラーで、操作できなかったことを伝える場合 | `{{制限値}}を超える{{オブジェクト名}}は{{操作を表す名詞}}できません。` | 5MBを超えるPDFファイルはアップロードできません。 |
| 制限値エラーで、操作できなかったことを伝える場合 | `{{制限値}}に満たない{{オブジェクト名}}は{{操作を表す名詞}}できません。` | 12文字に満たないログインボタンのラベルは入力できません。 |
| 制限値エラーで、登録／追加できなかったことを伝える場合 | `{{オブジェクト名}}は{{制限値}}件までしか登録できません。`<sup>*1</sup> | ファイルは5つまでしか登録できません。 |
| 選択可能な単位を超えたため、操作できなかったことを伝える場合 | `{{オブジェクト名}}は{{制限値}}までしか選択できません。` | 続柄の配偶者は1人までしか選択できません。 |
| エラーの原因となった状態を伝える場合（原因＝すでに行なわれている） | `{{オブジェクト名}}は、すでに{{操作を表す名詞}}済みです。`<sup>*2</sup> | すでに連携済みです。<br />選択したマイナンバーは、すでに登録済みです。<br />この書類の従業員は、すでに削除済みです。 |
| エラーの原因となった状態を伝える場合（原因＝存在しない） | `{{オブジェクト名}}がありません。` <br />`{{オブジェクト名}}は無効です。`<sup>*3</sup> | 対象となる依頼がありません。<br />書類がありません。 |
| エラーの原因となった状態を伝える場合（原因＝未入力） | `{{オブジェクト名}}が入力されていません。` | 被扶養者が入力されていません。<br />SmartHR手続ID、e-Gov手続IDが入力されていません。<br />銀行名が入力されていません。 |
| エラーの原因となった状態を伝える場合（原因＝未選択） | `{{オブジェクト名}}が選択されていません。` <br />`{{オブジェクト名}}が指定されていません。`<sup>*4</sup> | 従業員が選択されていません。<br />書類セットが選択されていません。 |
| エラーの原因となった状態を伝える場合（原因＝不正） | `{{オブジェクト名}}が正しくありません。` |   |
| エラーの原因となった状態を伝える場合（原因＝不一致） | `{{オブジェクト名}}と{{オブジェクト名}}が一致しません。` | 書類に記載されている名前と署名が一致しません。 |
| 許可されていない場合 | `アクセスできません。` <br />`アクセス権限がありません。` <br />`許可されていない操作です。` |   |
| なにもわからないとき | `予期しないエラーが発生しました。時間をおいて、やり直してください。` |   |

<sup>*1</sup>：
* 必要に応じて、「件」は「個」や「つ」に置き換えて構いません。
* 必要に応じて、「登録」は「追加」や「アップロード」に置き換えて構いません。

<sup>*2</sup>：
* 必要に応じて、選択対象に限定するために「選択した」や「対象の」などでオブジェクト名を修飾します。
* オブジェクト名を省略しても構いません。

<sup>*3</sup>：
* 必要に応じて、選択対象に限定するために「選択した」や「対象の」などでオブジェクト名を修飾します。

<sup>*4</sup>：
* 「選択」と「指定」は、直前の操作指示で示した操作名に合わせます。

